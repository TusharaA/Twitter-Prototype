	<!DOCTYPE html>
<html lang="en" ng-app = "twitter">
<head>
<title>TwitterProfile</title>
	    <link rel="icon" type="image/png" href="/Images/title.png"/>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
   <link href="https://abs.twimg.com/a/1458354797/css/t1/twitter_core.bundle.css" rel="stylesheet">
  <link href="https://abs.twimg.com/a/1458354797/css/t1/twitter_more_1.bundle.css" rel="stylesheet">
  <link href="https://abs.twimg.com/a/1458354797/css/t1/twitter_more_2.bundle.css" rel="stylesheet">
<link rel='stylesheet' href='./stylesheets/homepage.css' />
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<!-- Loading the AngularJS file from /public/angularJS folder -->
<script src="/angularjs/twitterStart.js"></script>
<script src="/angularjs/followingController.js"></script>
<script src="/angularjs/tweetController.js"></script>
<script src="/angularjs/displayController.js"></script>
<script src="/angularjs/searchController.js"></script>
<script src="/angularjs/editController.js"></script>


  
  <style>    
    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    
    .imageTwitter
    {
    left: 50%;
    position:absolute;
    }

h3 {
    color: #66757f;
    font-size: 20px;
    font-weight: 300;
    line-height: 22px;
    text-rendering: optimizelegibility;
    margin: 0;
}

.ProfileCanopy-header {
    background-color: #63aeee;
    max-width: 2560px;
    position: relative;
    z-index: 3;
}
 .ProfileCanopy-header {
    height: 175px;
    transition: height 0.3s ease 0s;
}
.ProfileCanopy-card {
    box-sizing: border-box;
    height: 60px;
    margin-right: -10px;
    max-width: 100%;
    overflow: hidden;
    padding-top: 60px;
    transition: padding-top 0.3s ease 0s;
}
.ProfileCanopy-nav .ProfileNav {
    margin-bottom: -1px;
}
.ProfileNav {
    height: 60px;
    position: relative;
}
ol, ul {
    list-style: outside none none;
    margin: 0;
    padding: 0;
}
.ProfileNav-item {
    display: inline-block;
}
.u-borderUserColor, .u-borderUserColorHover:hover, .u-borderUserColorHover:focus {
    border-color: #0084b4 !important;
}
.u-textUserColor, .u-textUserColorHover:hover, .u-textUserColorHover:focus {
    color: #0084b4 !important;
}
.ProfileNav-stat {
    border-bottom: 0 solid;
    box-sizing: border-box;
    display: block;
    height: 5px;
    line-height: 1;
    padding: 5px 5px 5px;
    transition: all 0.15s ease-in-out 0s;
}
.ProfileCardStats {
    margin-left: 11px;
    padding: 10px 0;
}
.Arrange--equal {
    table-layout: fixed;
}
.Arrange {
    box-sizing: border-box;
    display: table;
    margin: 0;
    min-width: 100%;
    padding: 0;
}
ol, ul {
    list-style: outside none none;
}
.Arrange-sizeFit {
    vertical-align: bottom;
     width: 1%;
     display: table-cell;
    padding: 0;
}
.ProfileAvatar {
    background: #fff none repeat scroll 0 0;
    border: 5px solid #fff;
    border-radius: 12px;
    box-shadow: 0 1px 1px rgba(136, 153, 166, 0.15);
    height: 200px;
    position: relative;
    width: 200px;
}
.u-block {
    display: block !important;
}
a {
    background: transparent none repeat scroll 0 0;
}	
.u-bgUserColor, .u-bgUserColorHover:hover, .u-bgUserColorHover:focus {
    background-color: #0084b4 !important;
}
.ProfileAvatar-image, .ProfileAvatar-placeholderImage {
    -moz-force-broken-image-icon: 1;
    border-radius: 8px;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
}
img {
    border: 0 none;
}

.ProfileSidebar .ProfileHeaderCard, .ProfileSidebar .ProfileUserList, .ProfileSidebar .PhotoRail {
    margin-bottom: 50px;
    padding-left: 15px;
    padding-right: 15px;
    margin-top: 50px;
}

.FormAlign
{
	padding:15px;
	padding: 2px; margin:1px; background: #eee; 
}

.FormAlign label { display:inline-block; width:120px; margin-left:5px; }

.FormAlign input { display:inline-block; width:120px;}


  </style>
</head>
<body ng-app="twitter">
<div ng-controller="searchController">
<!-- Top Bar Starts-->
<div class="topbar js-topbar">
    <div class="ProfilePage-editingOverlay"></div>
  <div class="global-nav">
    <div class="global-nav-inner">
      <div class="container">
        
<h1 style="display: inline-block; width: 24px; height: 21px;" class="Icon Icon--bird bird-topbar-etched">
  <span class="visuallyhidden">Twitter</span>
</h1><div class="pushstate-spinner"></div>

  
  <div style="display: inline-block;" role="navigation">
  <ul id="global-actions" class="nav js-global-actions">
  <li class="home" id="global-nav-home">
        <a href="/homepage" data-placement="bottom" class="js-nav js-tooltip js-dynamic-tooltip">
          <span class="Icon Icon--home Icon--large"></span>
          <span class="text">Home</span>
        </a>
      </li><li data-global-action="moments" class="moments js-moments-tab ">
        <a data-placement="bottom" data-nav="moments" data-component-context="moments_nav" class="js-nav js-tooltip js-dynamic-tooltip" href="#" role="button">
          <span class="Icon Icon--lightning Icon--large"></span>
          <span class="text">Moments</span>
        </a>
      </li><li data-global-action="connect" class="people notifications">
        <a data-nav="connect" data-component-context="connect_nav" href="#" data-placement="bottom" class="js-nav js-tooltip js-dynamic-tooltip" data-original-title="">
          <span class="Icon Icon--notifications Icon--large"></span>
          <span class="text">Notifications</span>
            <span class="count">
              <span class="count-inner">0</span>
            </span>
        </a>
      </li><li class="dm-nav">
        <a data-placement="bottom" class="js-tooltip js-dynamic-tooltip global-dm-nav" href="#" role="button" data-original-title="">
          <span class="Icon Icon--dm Icon--large"></span>
          <span class="text">Messages</span>
          <span class="dm-new"><span class="count-inner"></span></span>
        </a>
      </li></ul>
  </div>

  <div style="display: inline-block;" class="pull-right"><div role="search">
  <form id="global-nav-search" class="t1-form form-search js-search-form">
    <label for="search-query" class="visuallyhidden">Search query</label>
    <input type="text" spellcheck="false" autocomplete="off" name="q" placeholder="Search Twitter" id="search-query" class="search-input" aria-autocomplete="list" aria-expanded="false" aria-owns="typeahead-dropdown-1" ng-model="searchKey">
    <span class="search-icon js-search-action">
      <button class="Icon Icon--search nav-search" type="submit" tabindex="-1" ng-click="searchString();">
        <span class="visuallyhidden">Search Twitter</span>
      </button>
    </span>
      <div class="dropdown-menu typeahead" role="listbox" id="typeahead-dropdown-1">
  <div class="dropdown-caret" aria-hidden="true">
    <div class="caret-outer"></div>
    <div class="caret-inner"></div>
  </div>
  <div class="dropdown-inner js-typeahead-results" role="presentation"><div class="typeahead-recent-searches block0" role="presentation">
  <h3 class="typeahead-category-title recent-searches-title" id="recent-searches-heading">Recent searches</h3><button class="btn-link clear-recent-searches" tabindex="-1" type="button">Clear All</button>
  <ul class="typeahead-items recent-searches-list" role="presentation">
    
    <li class="typeahead-item typeahead-recent-search-item" role="presentation">
      <span aria-hidden="true" class="Icon Icon--close"><span class="visuallyhidden">Remove</span></span>
      <a tabindex="-1" data-ds="recent_search" data-query-source="" data-search-query="" href="" class="js-nav" aria-describedby="recent-searches-heading" role="option"></a>
    </li>
  </ul>
</div><div class="typeahead-saved-searches block1" role="presentation">
  <h3 class="typeahead-category-title saved-searches-title" id="saved-searches-heading">Saved searches</h3>
  <ul class="typeahead-items saved-searches-list" role="presentation">
    
    <li class="typeahead-item typeahead-saved-search-item" role="presentation">
      <span aria-hidden="true" class="Icon Icon--close"><span class="visuallyhidden">Remove</span></span>
      <a tabindex="-1" data-ds="saved_search" data-query-source="" data-search-query="" href="" class="js-nav" aria-describedby="saved-searches-heading" role="option"></a>
    </li>
  </ul>
</div><ul class="typeahead-items typeahead-topics block2" role="presentation" style="display: none;">
  
  <li class="typeahead-item typeahead-topic-item" role="presentation">
    <a tabindex="-1" data-ds="topics" data-query-source="typeahead_click" data-search-query="" href="" class="js-nav" role="option"></a>
  </li>
</ul><ul class="typeahead-items typeahead-accounts social-context js-typeahead-accounts block3" role="presentation" style="display: none;">
  
  <li class="typeahead-item typeahead-account-item js-selectable" data-score="" data-remote="true" data-user-screenname="" data-user-id="" role="presentation">
    
    <a data-ds="account" data-search-query="" data-query-source="typeahead_click" class="js-nav" role="option">
      <img alt="" class="avatar size32">
      <span class="typeahead-user-item-info">
        <span class="fullname"></span>
        <span class="js-verified hidden"><span class="Icon Icon--verified Icon--small">
  <span class="u-hiddenVisually">Verified account</span>
</span></span>
        <span class="username"><s>@</s><b></b></span>
      </span>
      <span class="typeahead-social-context"></span>
    </a>
  </li>
  <li class="js-selectable typeahead-accounts-shortcut js-shortcut" role="presentation"><a data-ds="account_search" data-shortcut="true" data-query-source="typeahead_click" data-search-query="" href="" class="js-nav" role="option"></a></li>
</ul></div>
</div>

  </form>
</div>
<ul class="nav right-actions">
<li id="user-dropdown" data-global-action="t1me" class="me dropdown session js-session">
        <a data-placement="bottom" title="Profile and settings" id="user-dropdown-toggle" class="btn js-tooltip settings dropdown-toggle js-dropdown-toggle" href="/homepage/userProfile" role="button" aria-haspopup="true"><img data-user-id="74778426" alt="Profile and settings" src="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_normal.png" class="avatar size32"></a>
        <div class="dropdown-menu">
    		<div class="dropdown-caret">
      			<span class="caret-outer"></span>
      			<span class="caret-inner"></span>
    		</div>
    	</div>
</li>
      
      </ul>
      <ul id="global-actions" class="nav js-global-actions">
  <li class="signout" id="global-nav-signout">
        <a href="/logout">
          <span class="text">Logout</span>
        </a>
    
      </ul>
       </div>
      </div>
    </div>
  </div>
</div><!-- Top Bar Ends -->


 <div id="page-outer">
          <div class="AppContent" id="page-container">
 
 <div class="ProfileCanopy-header u-bgUserColor" style="margin-top: 0px;">
 <div class="ProfileCanopy-headerBg"> </div>

<div class="AppContainer">
<div class="ProfileCanopy-avatar">
 <div class="ProfileAvatar">
 <a class="ProfileAvatar-placeholder u-block js-nav js-tooltip profile-picture" href="#">
<img class="ProfileAvatar-placeholderImage u-bgUserColor" src="https://abs.twimg.com/a/1457681967/img/t1/highline/empty_state/owner_empty_avatar.png">
</a>
</div>
 </div>
 <button class="ProfileCanopy-addHeaderCallout" type="button">
<span class="ProfileCanopy-addHeaderCalloutText u-inlineBlock"> Make this space yours. Add a photo! </span>
</button>
<div class="ProfileCanopy-headerPromptAnchor"></div>
 </div>
 </div>
 
 
 <div class="ProfileCanopy-navBar">
 <div class="AppContainer">
 <div class="Grid Grid--withGutter">
 <div class="Grid-cell u-size1of3 u-lg-size1of4">
 <div class="ProfileCanopy-card" role="presentation" aria-hidden="true">
 <div class="ProfileCardMini">
 <a class="ProfileCardMini-avatar profile-picture js-tooltip" target="_blank" data-url="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_200x200.png" data-resolved-url-large="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_200x200.png" title="Tushara Sankaran" href="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_200x200.png" tabindex="-1">
<img class="ProfileCardMini-avatarImage" src="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_normal.png" alt="Tushara Sankaran">
 </a>
 <div class="ProfileCardMini-details">
 <div class="ProfileNameTruncated">
 <div class="u-textTruncate u-inlineBlock">
<a class="ProfileNameTruncated-link u-textInheritColor js-nav js-action-profile-name" data-aria-label-part="" href="/tushisies" tabindex="-1"> Tushara Sankaran </a>
</div>
<div class="ProfileCardMini-screenname">
<a class="ProfileCardMini-screennameLink u-linkComplex js-nav u-dir" dir="ltr" href="/tushisies" tabindex="-1">
@
<span class="u-linkComplex-target">tushisies</span>
</a>
</div>
 </div>
 </div>
 </div>
 </div>
 </div>
 
 
 <div class="Grid-cell u-size2of3 u-lg-size3of4">
            <div class="ProfileCanopy-nav">
              
  <div data-user-id="74778426" role="navigation" class="ProfileNav">
    <ul class="ProfileNav-list">
<li class="ProfileNav-item ProfileNav-item--following">
        <a href="/following" class="ProfileNav-stat ProfileNav-stat--link u-borderUserColor u-textCenter js-tooltip js-nav u-textUserColor">
          <span class="ProfileNav-label">Following</span>
          <span class="ProfileNav-value"><%= followingCount%></span>
        </a>
      </li><li class="ProfileNav-item ProfileNav-item--followers">
        <a href="/followers" class="ProfileNav-stat ProfileNav-stat--link u-borderUserColor u-textCenter js-tooltip js-nav u-textUserColor">
          <span class="ProfileNav-label">Followers</span>
          <span class="ProfileNav-value"><%= followerCount%></span>
        </a>
        </li><li class="ProfileNav-item ProfileNav-item--followers">
        <a href="/tweet" class="ProfileNav-stat ProfileNav-stat--link u-borderUserColor u-textCenter js-tooltip js-nav u-textUserColor">
          <span class="ProfileNav-label">Tweets</span>
          <span class="ProfileNav-value"><%= tweetCount%></span>
        </a>
      </li><li class="ProfileNav-item ProfileNav-item--more dropdown is-hidden" style="">        <a href="#more" class="ProfileNav-stat ProfileNav-stat--link ProfileNav-stat--moreLink js-dropdown-toggle" role="button" aria-haspopup="true">
          <span class="ProfileNav-label">&nbsp;</span>
          <span class="ProfileNav-value">More <span class="ProfileNav-dropdownCaret Icon Icon--caretDown"></span></span>
        </a>
        <div class="dropdown-menu">
          <div class="dropdown-caret">
            <span class="caret-outer"></span>
            <span class="caret-inner"></span>
          </div>
          <ul></ul>
        </div>
      </li><li class="ProfileNav-item ProfileNav-item--userActions u-floatRight u-textRight with-rightCaret ">
        <div class="UserActions   u-textLeft">
      
      
</div>

      </li>
    </ul>
  </div>

            </div>
          </div>
 
 </div>
 </div>
 </div>
 
 <br><br>


 
 
<div class="container text-center">   

  <div class="row">
 <div ng-controller = "editController"> 
 

 <div ng-hide="hide_profile">
   <!-- First Column Starts--> 
    <div class="col-sm-3 well">
    <div class="thumbnail">
  <b>  <p>Profile:</p></b>
   	<p><%= fullName%><br>
   <%= twitterHandle%><br>
   Date of Birth: <%= dob%><br>
    Contact: <%= contactInfo%><br>

   </p>
	<br><br>
    </div>
    
    <button class="btn btn-primary" ng-click="editProfile();">Edit Profile</button>

    </div>
     <!-- Ends hide_profile-->
    </div>
    
    
    
     <div ng-hide="hide_form">
   <!-- First Column Starts--> 
    <div class="col-sm-3 well">
    <div class="thumbnail">
   <b> <p>Edit Profile:</p> </b>
    <div class = "FormAlign">
    <label for="editFname">First Name:</label>
    <input type="text" name="editFname" ng-init="editFname ='<%= firstName %>'" ng-model="editFname" placeholder = "First Name" >
    <label for="editLname">Last Name:</label>
    <input type="text" name="editLname" ng-model="editlname" ng-init="editlname = '<%= lastName %>'" placeholder = "Last Name">
    <label for="editContact">Contact:</label>
    <input type="text" name="editContact" ng-model="editContact" ng-init="editContact = '<%= contactInfo %>'" placeholder = "Contact Info">
    <label for="editLoc">Location:</label>
    <input type="text" name="editLoc" ng-model="editLoc" ng-init="editLoc = '<%= locationInfo %>'" placeholder = "Location Info">
    <label for="editUname">Username:</label>
    <input type="text" name="editUname" ng-model="editUname" ng-init="editUname = '<%= username %>'" placeholder = "Username">
    <label for="editDob	">BirthDate:</label>
    <input type="date" name="editDob" ng-model="editDob" ng-init="editDob = '<%= dob %>'">
     </div>  
     <br>
    <button class="btn btn-primary" ng-click="saveChange();">Save Changes</button>
    <button class="btn btn-primary" ng-click="cancelChange();">Cancel</button>
	<br>	
    </div>
    </div>
     <!-- Ends hide_form-->
    </div>
    
  <!-- Ends editController-->
  </div>  
    
     <!-- First Column Ends--> 

	<!-- div ng hide for middle section -->
		<div ng-hide = "hide_tweet">
			<div class="col-sm-7">
				<div class="row">
					<div ng-controller="tweetController">
						<div class="col-sm-12">
							<div class="panel panel-default text-left">
								<div class="panel-body">
									<textarea rows="3" style="width:100%" placeholder="What's happening?"
										name="tweetText" ng-model="tweetText"></textarea><br>
									
									<div class="TweetBoxToolbar-tweetButton tweet-button">
      								<button type="button" ng-click="submitProfile();" class="btn primary-btn tweet-action js-tweet-btn">
  									<span class="button-text tweeting-text">
    								<span class="Icon Icon--tweet"></span>
   									 Tweet
  									</span>
									</button>

   									 </div>
									
									<div ng-hide="tweetSuccess">
										<strong>Tweeted Successfully</strong>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				
				<!-- Tweet Section Starts -->
				<div ng-controller="displayController">
				
				<div>
				 <a  href='/homepage/userProfile'>Tweets:</a>
  	<a href='/homepage/userProfile'><%= tweetCount%></a>&nbsp;&nbsp;
    <a href=''><span ng-click="getFollowingList();">Following:</span></a>
 	<a href='' ng-click="getFollowingList();"><%= followingCount%></a>&nbsp;&nbsp;
	<a href='' ng-click="getFollowerList();">Followers:</a>
  	<a href='' ng-click="getFollowerList();"><%= followerCount%></a></div>
  	
  <!-- Tweet Section Starts -->   
  <div ng-hide="myTweets">
  <% if(tweetValue.length >0){ for(var i=0; i <tweetValue.length; i++) {%>
				<div class="row">
					<div class="col-sm-3">
						<div class="well">
							<% if (tweetValue[i].originalTweetFirstName !=null){ %>
									<p>
										<%= tweetValue[i].originalTweetFirstName %>
										<%= tweetValue[i].originalTweetLastName %> 
										<img src="/Images/tweet.jpeg" class="img-circle" height="55" width="55" alt="ProfilePic">
										<br>
										<%= tweetValue[i].originalTweetTwitterHandle %>
										&nbsp;&nbsp;
																
																
														
										
										 <% } else {%>
									<p>
										<%= tweetValue[i].tweetOwnerIdFirstName %>
										<%= tweetValue[i].tweetOwnerIdLastName %> <img
											src="/Images/tweet.jpeg"
											class="img-circle" height="55" width="55" alt="ProfilePic">
										<br>
										<%= tweetValue[i].tweetOwnerIdTwitterHandle %> 
										&nbsp;&nbsp;
																
														
										<% } %>
						</div>
					</div>
					<div class="col-sm-9">
						<div class="well">
							<% if (tweetValue[i].originalTweetFirstName !=null){ %>
									<p><%= tweetValue[i].tweetOwnerIdFirstName %>
									<%= tweetValue[i].tweetOwnerIdLastName %> Retweeted</p>
									<% } %>
									<p><%= tweetValue[i].twitterText %></p>
									
									
									
						</div>
					</div>
				</div>
     <% }} %>   
      </div>

<div ng-hide="followingFlag">
						<div ng-repeat="following in followingList">
							<div class="row">
								&nbsp;
								<div class="col-sm-12">
									<div class="well">
										
										<p>
											{{following.firstName}} {{following.lastName}} <img
												src="/Images/tweet.jpeg"
												class="img-circle" height="55" width="55" alt="Avatar">

											{{following.twitterHandle}}
										</p>
											
									</div>
								</div>
							</div>
						</div>
					</div>
					
		<div ng-hide="followerFlag">
						<div ng-repeat="follower in followerList">
							<div class="row">
								&nbsp;
								<div class="col-sm-12">
									<div class="well">
										
										<p>
											{{follower.firstName}} {{follower.lastName}} <img
												src="/Images/tweet.jpeg"
												class="img-circle" height="55" width="55" alt="Avatar">

											{{follower.twitterHandle}}
										</p>
											
									</div>
								</div>
							</div>
						</div>
					</div>




					<!-- middle containrs ends here -->
					<!-- Right container starts here -->

					<div class="dashboard dashboard-right">
						
					</div>
					<!-- Right container ends here -->
				</div>
			
			</div> <!-- col-sm-7 closed -->
			</div><!-- div ng hide ends for middle tweet section -->
			
			<!-- div ng hide starts for middle search section -->
<div ng-hide="hide_search">
		<div class="col-sm-7">
			<div ng-repeat="searchValue in searchResults">
				<div class="row">
					<div class="col-sm-3">
						<div class="well">
							{{searchValue.firstName}}  {{searchValue.lastName}} <br>
							{{searchValue.twitterHandle}}
						</div>
					</div>
					<div class="col-sm-9">
						<div class="well">					
						{{searchValue.tweetText}}
							</div>
					</div>
				</div>
			</div>
		</div>
</div><!-- div ng hide ends for middle search section -->











 
<!-- Last Column Starts--> 
		
       <div ng-controller="followingController">
			<div class="col-sm-2 well">
				<p>Here are some people you might enjoy following.</p>

				<% for(var i=0; i < followingList.length; i++) {%>
				<div class="thumbnail">

					<img src="/Images/follow.jpg" alt="ProfilePic" width="400" height="300">
					<p>
						<strong><%= followingList[i].firstName %>&nbsp;&nbsp;<%= followingList[i].lastName %></strong>
					</p>
					<p>
						<strong><%= followingList[i].twitterHandle %></strong>
					</p>

					<button class="btn btn-primary"
						ng-click="followingEmailId('<%=followingList[i].emailId  %>','<%=followingList[i].firstName  %>','<%=followingList[i].lastName  %>','<%=followingList[i].twitterHandle  %>');">Follow</button>
				</div>

				<% } %> 
			</div>
		</div>
       <!-- Last Column Ends--> 
  </div>
</div>

</div> <!-- container ends -->
</div> <!-- outer ends -->
<!-- Closing Search Controller-->
</div>


</div>
</div>
</div>
</body>
</html>
